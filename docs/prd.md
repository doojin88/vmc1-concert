# PRD

## 1. 제품 개요

운영자가 콘서트를 등록하고, 이용자가 콘서트를 예약할 수 있는 웹 앱.
**핵심 목표**는 (1) 역할 기반 플로우의 정확한 가드, (2) 콘서트 등록/예약/예약 취소 등 **상태 기반 비즈니스 룰** 구현, (3) 문서 주도(Usecase) 개발 프로세스의 실전 적용이다. 인증은 **Supabase Auth** 기반으로 운영.

## 2. Stakeholders

* **User**: 이용자. 콘서트 탐색/예약. 예약한 콘서트 조회 및 예약 취소
* **Operator**: 공연자. 콘서트 관리 (콘서트 등록/마감 등)

### **3. 페이지별 요구사항**

#### **3.1. 콘서트 목록 페이지**

**3.1.1. 목표:** 사용자가 현재 예매 가능한 콘서트 목록을 쉽게 탐색하고 원하는 공연을 찾을 수 있도록 합니다.

**3.1.2. 기능 요구사항:**

*   **콘서트 목록 표시:** 각 콘서트의 포스터 이미지, 공연명, 공연 기간, 장소를 목록 형태로 보여줍니다.
*   **검색 기능:** 사용자가 공연명이나 아티스트명으로 원하는 콘서트를 검색할 수 있어야 합니다.
*   **필터 및 정렬:**
    *   **필터:** 장르, 지역, 공연 날짜 등 다양한 조건으로 콘서트를 필터링할 수 있어야 합니다.
    *   **정렬:** 인기순, 최신순, 마감 임박순 등 다양한 기준으로 목록을 정렬할 수 있어야 합니다.
*   **무한 스크롤 또는 페이지네이션:** 스크롤을 내리면 추가 콘서트 목록이 로딩되거나, 페이지 번호를 통해 다른 목록을 볼 수 있어야 합니다.
*   **반응형 디자인:** 모바일, 태블릿, 데스크톱 등 다양한 디바이스에서 최적화된 화면을 보여주어야 합니다.

**3.1.3. 비기능 요구사항:**

*   **성능:** 페이지 로딩 시간이 2초 이내여야 합니다.
*   **사용성:** 사용자가 원하는 정보에 쉽게 접근할 수 있도록 직관적인 UI를 제공해야 합니다.

#### **3.2. 콘서트 상세 페이지**

**3.2.1. 목표:** 사용자에게 콘서트에 대한 상세 정보를 제공하고 예매를 유도합니다.

**3.2.2. 기능 요구사항:**

*   **기본 정보 표시:** 공연 포스터, 공연명, 아티스트, 공연 일시 및 장소, 티켓 가격, 관람 등급, 관람 시간 등의 기본 정보를 명확하게 표시해야 합니다.
*   **상세 정보 탭:** '공연 정보', '캐스팅 정보', '기획사 정보', '예매 안내', '관람 후기' 등 탭(Tab) 형식으로 구분하여 상세 정보를 제공합니다.
*   **공연 날짜 및 회차 선택:** 캘린더 형태나 드롭다운 메뉴를 통해 사용자가 원하는 공연 날짜와 회차를 선택할 수 있어야 합니다.
*   **예매하기 버튼:** 좌석 선택 페이지로 이동하는 명확하고 눈에 띄는 '예매하기' 버튼이 있어야 합니다.
*   **소셜 공유 기능:** 페이스북, 트위터 등 소셜 미디어로 공연 정보를 공유할 수 있는 기능이 있어야 합니다.

**3.1.3. 비기능 요구사항:**

*   **정보 정확성:** 모든 정보는 최신 상태로 정확하게 유지되어야 합니다.
*   **접근성:** 시각 장애인을 위한 이미지 대체 텍스트 등을 제공하여 웹 접근성을 준수해야 합니다.

#### **3.3. 좌석 선택 페이지**

**3.3.1. 목표:** 사용자가 공연장의 좌석 배치도를 보고 원하는 좌석을 직관적으로 선택할 수 있도록 합니다.

**3.3.2. 기능 요구사항:**

*   **좌석 배치도 표시:** 공연장의 실제 좌석 배치도를 시각적으로 구현하여 보여줍니다.
    *   선택 가능한 좌석, 선택 불가능한 좌석, 이미 선택한 좌석을 색상이나 아이콘으로 명확하게 구분해야 합니다.
*   **구역 및 등급별 좌석 확인:** 전체 좌석 배치도와 함께 특정 구역(예: R석, S석, A석)을 확대해서 볼 수 있는 기능이 있어야 합니다.
*   **좌석 정보 표시:** 좌석 선택 시 해당 좌석의 등급, 가격, 위치(층, 구역, 열, 번호) 정보를 보여줍니다.
*   **인원 및 티켓 매수 선택:** 예매할 인원과 티켓 매수를 선택할 수 있어야 합니다.
*   **선택 좌석 자동 선택 해제:** 일정 시간 동안 다음 단계로 진행하지 않으면 선택한 좌석이 자동으로 해제되는 기능이 필요합니다 (예: 10분).
*   **다음 단계 버튼:** 좌석 선택 완료 후 예약 정보 입력 페이지로 넘어가는 버튼이 있어야 합니다.

**3.1.3. 비기능 요구사항:**

*   **성능:** 다수의 좌석 정보를 실시간으로 처리할 때 지연이 없어야 합니다.
*   **직관성:** 사용자가 별도의 설명 없이도 쉽게 좌석을 선택하고 예매를 진행할 수 있어야 합니다.

#### **3.4. 예약정보 입력 페이지**

**3.4.1. 목표:** 사용자가 예매에 필요한 정보를 정확하게 입력하고 결제를 완료할 수 있도록 합니다.

**3.4.2. 기능 요구사항:**

*   **예약 정보 확인:** 선택한 공연명, 일시, 장소, 좌석, 티켓 매수, 총 결제 금액을 명확하게 보여줍니다.
*   **예약자 정보 입력:** 이름, 연락처, 이메일 주소를 입력받습니다.
*   **티켓 수령 방법 선택:** 현장 수령, 배송 등 티켓 수령 방법을 선택할 수 있도록 합니다. (배송 선택 시 주소 입력 필드 활성화)
*   **결제 수단 선택:** 신용카드, 무통장 입금, 간편 결제(카카오페이, 네이버페이 등) 등 다양한 결제 수단을 제공해야 합니다.
*   **할인 및 쿠폰 적용:** 사용 가능한 할인 쿠폰이나 포인트를 적용할 수 있는 기능이 있어야 합니다.
*   **이용약관 동의:** 개인정보 수집 및 이용, 예매 유의사항 등에 대한 약관 동의 절차가 있어야 합니다.
*   **결제하기 버튼:** 모든 정보 입력 및 동의 후 결제를 진행하는 버튼이 있어야 합니다.

**3.1.3. 비기능 요구사항:**

*   **보안:** 모든 개인정보와 결제 정보는 암호화되어 안전하게 처리되어야 합니다.
*   **안정성:** 결제 과정에서 오류가 발생하지 않도록 안정적인 결제 시스템(PG사 연동)을 구축해야 합니다.

#### **3.5. 예약 완료 페이지**

**3.5.1. 목표:** 사용자에게 예약이 성공적으로 완료되었음을 명확히 알리고, 예약 상세 내역을 제공합니다.

**3.5.2. 기능 요구사항:**

*   **예약 완료 메시지:** "예약이 성공적으로 완료되었습니다."와 같은 명확한 메시지를 보여줍니다.
*   **예약 상세 내역 표시:** 예약 번호, 공연 정보(공연명, 일시, 장소), 좌석 정보, 예매자 정보, 결제 정보를 종합하여 보여줍니다.
*   **예약 내역 확인 안내:** '예약 조회' 페이지로 이동하여 상세 내역을 다시 확인할 수 있음을 안내해야 합니다.
*   **예약 정보 전송:** 사용자의 이메일이나 알림톡으로 예약 완료 내역을 자동으로 발송해야 합니다.
*   **홈으로/예약 목록으로 이동 버튼:** 메인 페이지나 예약 조회 페이지로 이동할 수 있는 버튼을 제공합니다.

**3.1.3. 비기능 요구사항:**

*   **명확성:** 사용자가 자신의 예약 상태를 혼동하지 않도록 모든 정보가 명확하고 간결하게 전달되어야 합니다.

#### **3.6. 예약 조회 페이지**

**3.6.1. 목표:** 사용자가 자신의 예매 내역을 확인하고 관리할 수 있도록 합니다.

**3.6.2. 기능 요구사항:**

*   **예약 목록:** 사용자의 전체 예매 내역을 목록 형태로 보여줍니다. (공연 포스터, 공연명, 예매일, 관람일 등)
*   **예약 상세 정보:** 목록에서 특정 예매 건을 선택하면 예약 완료 페이지와 동일한 수준의 상세 정보를 볼 수 있어야 합니다.
*   **예약 취소 기능:** 예매 취소 규정에 따라 사용자가 직접 예매를 취소할 수 있는 기능이 있어야 합니다.
    *   취소 시, 취소 수수료 및 환불 예정 금액을 명확히 안내해야 합니다.
*   **티켓 확인 (QR코드):** 모바일 티켓의 경우, 입장 시 사용할 수 있는 QR코드를 이 페이지에서 확인할 수 있어야 합니다.
*   **로그인 기반:** 사용자가 로그인해야만 자신의 예약 내역을 조회할 수 있도록 합니다.

**3.1.3. 비기능 요구사항:**

*   **개인정보 보호:** 본인만 자신의 예약 내역을 확인할 수 있도록 철저한 인증 절차를 거쳐야 합니다.

## 4. 사용자 여정 (User Journey)

### 4.1 User 여정

1. 회원가입 페이지 → 역할=User/Operator 선택 → 회원 가입
2. 로그인 페이지→ 온보딩 (역할=User|Operator)
3. 콘서트 탐색 → 콘서트 상세 → 좌석 선택 → 예약 정보 입력 → 예약
4. 예약 조회에서 예약한 콘서트 확인 → 콘서트 상세 -> 예약 취소

### 4.2 Operator 여정

1. 회원가입/로그인 → 역할=Operator 선택/프로필
2. 콘서트 생성(draft) → published 전환
3. 마감 시 closed 

## 5. IA (Tree)

```
/ (Home)
├─ /auth/(signin|signup)
├─ /onboarding (role=user|operator)
├─ /concerts
│  └─ /[concertId]
│     ├─ /about
│     ├─ /info
│     ├─ /seat
│     └─ /reserve
└─ /user
   └─ /concerts
      ├─ /new
      └─ /[concertId]/cancel

```

